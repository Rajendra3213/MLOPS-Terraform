# MLOps Architecture

## High-Level Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                         AWS Cloud                                │
│                                                                   │
│  ┌────────────────────────────────────────────────────────────┐ │
│  │                    VPC (10.0.0.0/16)                       │ │
│  │                                                             │ │
│  │  ┌──────────────────┐         ┌──────────────────┐        │ │
│  │  │  Public Subnet   │         │  Public Subnet   │        │ │
│  │  │   (AZ-1)         │         │   (AZ-2)         │        │ │
│  │  │                  │         │                  │        │ │
│  │  │  ┌────────────┐  │         │                  │        │ │
│  │  │  │ NAT Gateway│  │         │                  │        │ │
│  │  │  └────────────┘  │         │                  │        │ │
│  │  └──────────────────┘         └──────────────────┘        │ │
│  │           │                            │                   │ │
│  │  ┌────────▼────────────┐      ┌───────▼──────────┐        │ │
│  │  │  Private Subnet     │      │  Private Subnet  │        │ │
│  │  │   (AZ-1)            │      │   (AZ-2)         │        │ │
│  │  │                     │      │                  │        │ │
│  │  │  ┌──────────────┐   │      │ ┌──────────────┐ │        │ │
│  │  │  │  SageMaker   │   │      │ │   Lambda     │ │        │ │
│  │  │  │  Studio      │   │      │ │  Functions   │ │        │ │
│  │  │  └──────────────┘   │      │ └──────────────┘ │        │ │
│  │  └─────────────────────┘      └──────────────────┘        │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                   │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    Data & Storage Layer                      │ │
│  │                                                               │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │ │
│  │  │   S3     │  │   S3     │  │   S3     │  │   ECR    │   │ │
│  │  │  Data    │  │  Models  │  │Artifacts │  │Container │   │ │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                   │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                  ML Pipeline Services                        │ │
│  │                                                               │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │ │
│  │  │  Glue    │  │   Step   │  │SageMaker │  │CloudWatch│   │ │
│  │  │   ETL    │→ │Functions │→ │ Training │→ │Monitoring│   │ │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└───────────────────────────────────────────────────────────────────┘
```

## ML Pipeline Flow

```
1. Data Ingestion
   ↓
2. Glue Crawler (Schema Discovery)
   ↓
3. Glue ETL Job (Data Transformation)
   ↓
4. Lambda (Data Validation)
   ↓
5. SageMaker Training Job
   ↓
6. Lambda (Model Evaluation)
   ↓
7. Model Registry (Version Control)
   ↓
8. SageMaker Endpoint (Deployment)
   ↓
9. CloudWatch (Monitoring & Alerts)
```

## Module Dependencies

```
vpc ──────────┐
              ├──→ sagemaker
iam ──────────┤
              └──→ lambda

s3 ───────────────→ glue

iam ──────────────→ stepfunctions

iam ──────────────→ glue

sagemaker ────────→ monitoring
```
